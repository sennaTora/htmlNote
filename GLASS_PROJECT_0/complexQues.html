<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>调查问卷——复合</title>
    <script src="./js/vue.js"></script>
    <script src="./js/axios-0.18.0.js"></script>
    <script src="jquery.min.js"></script>
    <script src="jj.js"></script>
</head>
<style>
        body {
        background-image: url(https://img-prod-cms-rt-microsoft-com.akamaized.net/cms/api/am/imageFileData/RE4wwut?ver=b2fa);
        background-repeat: no-repeat;
        background-position: 50% 50%;
        background-attachment: fixed;
    }
</style>
<script type="text/javascript">
    function addUser() {
        alert("使用了addUser");
        var form = document.forms[0];
        form.action = "${pageContext.request.contextPath}/user/addUser1";
        form.method = "post";
        form.submit();
    }
</script>

<body>
<h2 align="center" id="MAIN2">调查问卷</h2>
<div onclick="sub()" style="height: 400px; width: 400px;background-color: #8ce2ff9c;font-size: 24px;">这个能成功</div>

<form action="http://localhost:8080/addUser1" method="post" id="my_form">
    <input type="text" name="quesFirst" id="quesFirst"/>
    <input type="text" name="quesSecond" id="quesSecond"/>
    <input type="text" name="quesThird" id="quesThird"/>
    <input type="text" name="quesForth" id="quesForth"/>
    <input type="submit" value="提交信息" onclick="addUser()"/>
</form>

</body>

<script>
    function sub(){
        alert("调用了sub函数");
        axios.post('/sub_1',{quesFirst:'6',quesSecond:'1',quesThird:'4',quesForth:"来自前端，路易斯"}
        ).then(
            res_1=>{ alert(res_1); });
    }

    new Vue({
        el: "#MAIN2",
        mounted(){
            alert("挂载");
            axios.defaults.headers.post['Content-Type'] = 'application/json;charset=utf-8';
            axios({
             method:"post",
             url:"/sub_0",
             data:{"quesFirst":"1","quesSecond":"1","quesThird":"4",quesForth:"可以正常挂载中提交"}
             }).then(
             res_0=>{ alert(res_0); });
        },
        methods: { }
    });
</script>
<script>
    $(function () {
        $("#my_form").ajaxForm(function (data) {
                console.log(data);
                console.log(JSON.stringify(data));
                switch (data) {
                case 1:
                    alert("用户登录成功");
                    location.href="用户界面2(预约).html";
                    break;
            }
            }
        );
    });
</script>
</html>